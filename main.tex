% --- Template for thesis / report with tktltiki2 class ---
% 
% last updated 2013/02/15 for tkltiki2 v1.02

\documentclass[finnish]{tktltiki2}

% tktltiki2 automatically loads babel, so you can simply
% give the language parameter (e.g. finnish, swedish, english, british) as
% a parameter for the class: \documentclass[finnish]{tktltiki2}.
% The information on title and abstract is generated automatically depending on
% the language, see below if you need to change any of these manually.
% 
% Class options:
% - grading                 -- Print labels for grading information on the front page.
% - disablelastpagecounter  -- Disables the automatic generation of page number information
%                              in the abstract. See also \numberofpagesinformation{} command below.
%
% The class also respects the following options of article class:
%   10pt, 11pt, 12pt, final, draft, oneside, twoside,
%   openright, openany, onecolumn, twocolumn, leqno, fleqn
%
% The default font size is 11pt. The paper size used is A4, other sizes are not supported.
%
% rubber: module pdftex

% --- General packages ---

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{amsfonts,amsmath,amssymb,amsthm,booktabs,color,enumitem,graphicx}
\usepackage[pdftex,hidelinks]{hyperref}
\usepackage{verbatim}

\usepackage{listings}
\usepackage{color}
\definecolor{lightgray}{rgb}{.92,.92,.92}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}
\lstdefinelanguage{JavaScript}{
  keywords={break, case, catch, continue, debugger, default, delete, do, else, false, finally, for, function, if, in, instanceof, new, null, return, switch, this, throw, true, try, typeof, var, void, while, with},
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
  ndkeywords={class, export, boolean, throw, implements, import, this},
  keywordstyle=\color{blue}\bfseries,
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  sensitive=true
}

\lstset{
   language=JavaScript,
   backgroundcolor=\color{lightgray},
   extendedchars=true,
   literate={ä}{{\"a}}1 {ö}{{\"o}}1,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numbers=left,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

\graphicspath{{images/}}

% Automatically set the PDF metadata fields
\makeatletter
\AtBeginDocument{\hypersetup{pdftitle = {\@title}, pdfauthor = {\@author}}}
\makeatother

% babelbib for non-english bibliography using bibtex
\usepackage[fixlanguage]{babelbib}
\selectbiblanguage{finnish}

% Hack with negative space to fix space before full stop.
\declarebtxcommands{finnish}{%
\def\btxurldatecomment#1{, vierailtu #1\!\!}%
}

% Remove [brackets] around keys.
\makeatletter
\renewcommand\@biblabel[1]{\hfill #1.}
\makeatother

% Try not to break small words. (että, jotta, etc.) (range: 0 - 10 000)
\pretolerance=1000

% add bibliography to the table of contents
\usepackage[nottoc]{tocbibind}
% tocbibind renames the bibliography, use the following to change it back
\settocbibname{Lähteet}

% --- Theorem environment definitions ---

\newtheorem{lau}{Lause}
\newtheorem{lem}[lau]{Lemma}
\newtheorem{kor}[lau]{Korollaari}

\theoremstyle{definition}
\newtheorem{maar}[lau]{Määritelmä}
\newtheorem{ong}{Ongelma}
\newtheorem{alg}[lau]{Algoritmi}
\newtheorem{esim}[lau]{Esimerkki}

\theoremstyle{remark}
\newtheorem*{huom}{Huomautus}

% --- tktltiki2 options ---

\title{JavaScript ja virtuaalikoneet}
\author{Ville Lahdenvuo}
\date{\today}
\level{Kandidaatintutkielma}
\abstract{
  \renewcommand{\baselinestretch}{1.5}
  \selectfont
  \input{abstract}
}

% The following can be used to specify keywords and classification of the paper:

\keywords{JavaScript, virtuaalikone, suorituskyky}

% Classification according to ACM Computing Classification System (http://www.acm.org/about/class/)
%
% Software and its engineering
%   Software organization and properties
%     Contextual software domains
%       Software infrastructure
%         Virtual machines
%   Software notations and tools
%     General programming languages
%       Language types
%         Very high level languages

\classification{
  \textbf{Software and its engineering $\rightarrow$ Virtual machines} \\
  Software and its engineering $\rightarrow$ Very high level languages
}

% If the automatic page number counting is not working as desired in your case,
% uncomment the following to manually set the number of pages displayed in the abstract page:
%
% \numberofpagesinformation{16 sivua + 10 sivua liitteissä}

\begin{document}

% --- Front matter ---

\frontmatter      % roman page numbering for front matter

\maketitle        % title page
\makeabstract     % abstract page

\tableofcontents  % table of contents

% --- Main matter ---

\mainmatter       % clear page, start arabic page numbering

% Set bigger space between lines.
\renewcommand{\baselinestretch}{1.5}
\selectfont

%\input{00-referaatti}
\input{01-johdanto}
\input{02-virtuaalikoneiden-toiminta}
\input{03-optimointi}
\input{04-vertailu}
\input{05-tulevaisuus}
\input{06-yhteenveto}

% --- References ---

\bibliographystyle{babplain-lf}
%\bibliographystyle{babalpha-lf}
\pagebreak
\bibliography{references}


% --- Appendices ---

% uncomment the following

% \newpage
% \appendix
% 
% \section{Esimerkkiliite}

\end{document}